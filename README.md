# Greek Numbers Audio Trainer

Проект для изучения греческих чисел на слух. Включает игру для тренировки восприятия чисел и инструменты для генерации аудиофайлов.

## Развёртывание

### Требования

- Python 3.10+
- ffmpeg (для воспроизведения и обработки аудио)

### Установка ffmpeg

**macOS:**
```bash
brew install ffmpeg
```

**Ubuntu/Debian:**
```bash
sudo apt install ffmpeg
```

### Установка зависимостей Python

```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

## Скрипты

### 1. number_game.py — Игра «Угадай число»

Интерактивная игра для тренировки восприятия греческих чисел на слух. Программа воспроизводит случайное число от 1 до 1999, а пользователь должен его угадать.

**Запуск:**
```bash
python3 number_game.py
```

или через shell-скрипт:
```bash
./numbers.sh
```

**Управление:**
- Вводите число сразу во время воспроизведения — ввод будет подставлен в строку
- `r` или `repeat` — повторить воспроизведение
- `s` или `show` — показать ответ и перейти к следующему числу
- `q` или `quit` — выйти из игры

**Особенности:**
- Параллельный ввод во время воспроизведения аудио
- Выделение неправильных цифр красным цветом
- Статистика по окончанию: всего загадано, угадано с первой попытки, топ-5 ошибок по позициям

---

### 2. make_dataset.py — Генерация аудиофайлов

Генерирует аудиофайлы для слов/чисел из текстового файла с помощью edge-tts (греческий голос el-GR-NestorasNeural). Автоматически обрезает тишину в конце.

**Запуск:**
```bash
python3 make_dataset.py dataset.txt
```

**Параметры:**
- `input_file` — путь к файлу со словами/числами (по одному на строку)
- `-o, --output` — директория для сохранения (по умолчанию: `./audio`)

**Пример:**
```bash
python3 make_dataset.py dataset.txt -o ./audio
```

**Результат:**
- Обрезанные файлы сохраняются в `./audio/`
- Сырые (необрезанные) файлы сохраняются в `./audio/raw/`

---

### 3. trim_silence.py — Обрезка тишины в аудио

Утилита для обрезки тишины в конце аудиофайла с использованием ffmpeg.

**Запуск:**
```bash
python3 trim_silence.py input.mp3 output.mp3
```

**Параметры:**
- `input` — входной MP3 файл
- `output` — выходной MP3 файл
- `-t, --threshold` — порог тишины в децибелах (по умолчанию: -40)
- `--tail` — максимальный хвост тишины в миллисекундах (по умолчанию: 500)

**Пример:**
```bash
python3 trim_silence.py audio/raw/100.mp3 audio/100.mp3 --tail 20
```
